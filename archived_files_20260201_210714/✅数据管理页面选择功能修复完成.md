# ✅ 数据管理页面选择功能修复完成

## 🎯 问题解决

您指出的问题已经完全解决！我已经修改了数据管理页面的上传对话框，添加了您要求的所有选择功能。

## 🔧 新增的选择功能

### 1. **训练数据生成方式选择**
```
○ 使用大模型生成训练数据 [高质量]
● 使用规则生成训练数据 [快速]
```

**说明**：
- **大模型生成**：使用阿里通义千问 + DeepSeek 双LLM并行处理，生成更自然、多样化的问法，准确率更高，处理时间约30-60分钟
- **规则生成**：使用预定义规则快速生成训练样本，生成标准化问法，稳定可靠，处理时间约2-5分钟

### 2. **数据量选择**
```
○ 全量数据生成训练数据
● 指定条数生成训练数据
   [1000] 条 (100-50000)
```

**说明**：
- **全量数据**：处理上传文件中的所有银行记录
- **指定条数**：默认1000条，可自定义100-50000条，系统将按银行维度随机抽取指定条数的记录生成训练数据

### 3. **每个银行生成样本数**
```
每个银行生成样本数: [7] 个样本 (3-15)
推荐值：7（平衡质量和数量）
```

### 4. **智能预估信息**
```
ℹ️ 预估信息
基于当前设置：
• 数据量：1000 条记录（指定条数）
• 预计生成样本：约 700 个
• 处理时间：约 2-5 分钟
• 生成方式：规则生成（快速）
```

## 🎨 用户界面更新

现在当您点击数据管理页面的"上传数据集"按钮时，会看到：

1. **文件选择区域**（支持 CSV、Excel、.unl）
2. **训练数据生成方式**（单选按钮）
   - 使用大模型生成训练数据 [高质量]
   - 使用规则生成训练数据 [快速]
3. **数据量选择**（单选按钮）
   - 全量数据生成训练数据
   - 指定条数生成训练数据（带数字输入框）
4. **每个银行生成样本数**（数字输入框）
5. **预估信息**（动态更新）

## 🔄 技术实现

### 前端修改
- ✅ 添加了 `Radio` 组件导入
- ✅ 新增 `sampleCount` 状态变量保存指定条数
- ✅ 替换了原有的简单开关为明确的单选按钮
- ✅ 添加了动态预估信息显示
- ✅ 实现了按银行维度随机抽取的说明

### 后端支持
- ✅ 后端API已经支持 `generation_method`、`data_amount`、`sample_count` 参数
- ✅ 实现了按银行维度随机抽取逻辑
- ✅ 支持大模型和规则两种生成方式

## 🚀 使用流程

1. **访问数据管理页面** → 点击"上传数据集"
2. **选择文件** → 上传 .unl、CSV 或 Excel 文件
3. **选择生成方式** → 大模型生成（高质量）或规则生成（快速）
4. **选择数据量** → 全量数据或指定条数（默认1000条）
5. **设置样本数** → 每个银行生成的样本数（默认7个）
6. **查看预估** → 系统显示预计生成样本数和处理时间
7. **开始生成** → 点击"开始生成"按钮

## ✅ 功能验证

现在页面完全符合您的需求：
- ✅ 允许选择：使用大模型生成训练数据/使用规则生成训练数据
- ✅ 允许选择：全量数据生成训练数据/xxx笔生成训练数据
- ✅ xxx默认是1000条，可自定义
- ✅ 指定条数时按银行维度随机抽取样本数据

请刷新页面（Ctrl+F5 或 Cmd+Shift+R）查看更新后的界面！🎉