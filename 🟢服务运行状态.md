# 🟢 服务运行状态

**检查时间**: 2026-01-12 14:35  
**状态**: ✅ 所有服务正常运行

---

## ✅ 服务状态

### 后端服务
- **状态**: 🟢 运行中
- **端口**: 8000
- **进程ID**: 2618
- **应用**: Bank Code Retrieval System v1.0.0
- **健康检查**: ✅ 通过

**验证结果**:
```json
{
    "status": "healthy",
    "app": "Bank Code Retrieval System",
    "version": "1.0.0"
}
```

### 前端服务
- **状态**: 🟢 运行中
- **端口**: 3000
- **进程ID**: 31647
- **应用**: 银行代码检索系统
- **编译状态**: ✅ 成功

**验证结果**:
```html
<title>银行代码检索系统</title>
```

---

## 🌐 访问地址

### 用户访问
- **前端界面**: http://localhost:3000
  - 登录页面
  - 仪表盘
  - 数据管理
  - 训练管理
  - 模型管理
  - 智能问答
  - 用户管理（管理员）
  - 系统设置（管理员）

### 开发者访问
- **后端API**: http://localhost:8000
- **API文档（Swagger）**: http://localhost:8000/docs
- **API文档（ReDoc）**: http://localhost:8000/redoc
- **健康检查**: http://localhost:8000/health

---

## 🔑 测试账号

### 普通用户
- **用户名**: testuser
- **密码**: test123456
- **权限**: 
  - ✅ 查看仪表盘
  - ✅ 数据管理
  - ✅ 训练管理
  - ✅ 模型管理
  - ✅ 智能问答
  - ❌ 用户管理
  - ❌ 系统设置

### 管理员账号（如需创建）
```bash
python3 create_test_user.py
```
- **用户名**: admin
- **密码**: admin123456
- **权限**: 全部功能

---

## 🧪 快速验证步骤

### 1. 验证前端访问
```bash
# 在浏览器中打开
open http://localhost:3000

# 或使用curl验证
curl http://localhost:3000
```

### 2. 验证后端API
```bash
# 健康检查
curl http://localhost:8000/health

# 查看API文档
open http://localhost:8000/docs
```

### 3. 验证登录功能
1. 访问 http://localhost:3000
2. 输入用户名: testuser
3. 输入密码: test123456
4. 点击登录

### 4. 验证核心功能

#### 数据管理
1. 点击左侧菜单 "数据管理"
2. 点击 "上传数据集"
3. 选择CSV或Excel文件
4. 上传并查看列表

#### 训练管理
1. 点击左侧菜单 "训练管理"
2. 点击 "创建训练任务"
3. 选择数据集
4. 配置参数并创建

#### 智能问答
1. 点击左侧菜单 "智能问答"
2. 输入问题（例如："中国银行的银行代码是什么？"）
3. 点击 "提问"
4. 查看答案

---

## 📊 系统架构

```
┌─────────────────────────────────────────────────────────┐
│                    用户浏览器                            │
│              http://localhost:3000                      │
└────────────────────┬────────────────────────────────────┘
                     │
                     │ HTTP请求
                     ▼
┌─────────────────────────────────────────────────────────┐
│                  前端服务（React）                       │
│                  端口: 3000                              │
│                  进程: 31647                             │
│  ┌──────────────────────────────────────────────────┐  │
│  │ • Dashboard（仪表盘）                             │  │
│  │ • DataManagement（数据管理）                      │  │
│  │ • TrainingManagement（训练管理）                  │  │
│  │ • ModelManagement（模型管理）                     │  │
│  │ • QAInterface（智能问答）                         │  │
│  │ • UserManagement（用户管理）                      │  │
│  │ • SystemSettings（系统设置）                      │  │
│  └──────────────────────────────────────────────────┘  │
└────────────────────┬────────────────────────────────────┘
                     │
                     │ API调用
                     ▼
┌─────────────────────────────────────────────────────────┐
│                 后端服务（FastAPI）                      │
│                  端口: 8000                              │
│                  进程: 2618                              │
│  ┌──────────────────────────────────────────────────┐  │
│  │ API端点:                                          │  │
│  │ • /api/v1/auth/* - 认证                          │  │
│  │ • /api/v1/datasets/* - 数据管理                  │  │
│  │ • /api/v1/training/* - 训练管理                  │  │
│  │ • /api/v1/evaluation/* - 评估管理                │  │
│  │ • /api/v1/query/* - 问答查询                     │  │
│  │ • /api/v1/admin/* - 用户管理                     │  │
│  │ • /api/v1/logs/* - 日志管理                      │  │
│  └──────────────────────────────────────────────────┘  │
└────────────────────┬────────────────────────────────────┘
                     │
                     │ 数据存储
                     ▼
┌─────────────────────────────────────────────────────────┐
│                  数据库（SQLite）                        │
│                  文件: mvp/*.db                          │
│  ┌──────────────────────────────────────────────────┐  │
│  │ 表:                                               │  │
│  │ • users - 用户表                                  │  │
│  │ • datasets - 数据集表                            │  │
│  │ • training_jobs - 训练任务表                     │  │
│  │ • evaluations - 评估表                           │  │
│  │ • query_logs - 查询日志表                        │  │
│  │ • bank_codes - 银行代码表                        │  │
│  │ • qa_pairs - 问答对表                            │  │
│  └──────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

---

## 🔧 服务管理命令

### 查看服务状态
```bash
# 查看所有相关进程
ps aux | grep -E "(uvicorn|react-scripts)" | grep -v grep

# 查看后端日志
tail -f mvp/backend.log

# 查看端口占用
lsof -i :8000  # 后端
lsof -i :3000  # 前端
```

### 停止服务
```bash
# 停止后端
pkill -f "uvicorn app.main:app"

# 停止前端
pkill -f "react-scripts"
```

### 重启服务
```bash
# 重启后端
cd mvp
python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000 &

# 重启前端
cd frontend
npm start
```

---

## 📝 功能验证清单

### 基础功能
- [ ] 用户登录
- [ ] 查看仪表盘
- [ ] 退出登录

### 数据管理
- [ ] 上传数据集
- [ ] 查看数据集列表
- [ ] 查看数据集详情
- [ ] 预览数据
- [ ] 验证数据集

### 训练管理
- [ ] 创建训练任务
- [ ] 查看训练列表
- [ ] 查看训练详情
- [ ] 监控训练进度
- [ ] 停止训练任务

### 模型管理
- [ ] 查看模型列表
- [ ] 查看模型详情
- [ ] 启动评估
- [ ] 查看评估结果

### 智能问答
- [ ] 输入问题
- [ ] 获取答案
- [ ] 查看响应时间
- [ ] 切换RAG模式
- [ ] 查看查询历史

### 用户管理（管理员）
- [ ] 查看用户列表
- [ ] 查看用户详情
- [ ] 删除用户

### 系统设置（管理员）
- [ ] 查看系统日志
- [ ] 筛选日志级别
- [ ] 查看日志文件

---

## 🎯 推荐验证流程

### 第一步：登录系统
1. 打开浏览器访问 http://localhost:3000
2. 使用测试账号登录
3. 确认进入仪表盘

### 第二步：查看仪表盘
1. 查看统计卡片
2. 查看最近训练任务
3. 查看最近查询记录
4. 测试快捷操作按钮

### 第三步：测试数据管理
1. 点击 "数据管理"
2. 准备一个CSV或Excel文件
3. 点击 "上传数据集"
4. 上传文件
5. 查看上传结果
6. 点击 "详情" 查看统计
7. 点击 "预览" 查看数据
8. 点击 "验证" 验证数据

### 第四步：测试训练管理
1. 点击 "训练管理"
2. 点击 "创建训练任务"
3. 选择刚上传的数据集
4. 输入模型名称
5. 使用默认参数
6. 创建任务
7. 观察训练进度

### 第五步：测试智能问答
1. 点击 "智能问答"
2. 输入问题："中国银行的银行代码是什么？"
3. 确保RAG开关已开启
4. 点击 "提问"
5. 查看答案和响应时间
6. 查看右侧历史记录

### 第六步：测试其他功能
1. 测试模型管理
2. 测试用户管理（如果是管理员）
3. 测试系统设置（如果是管理员）

---

## 💡 验证提示

### 如果遇到问题

**前端无法访问**:
```bash
# 检查前端进程
ps aux | grep react-scripts

# 检查端口占用
lsof -i :3000

# 重启前端
cd frontend
npm start
```

**后端无法访问**:
```bash
# 检查后端进程
ps aux | grep uvicorn

# 检查端口占用
lsof -i :8000

# 查看后端日志
tail -f mvp/backend.log

# 重启后端
cd mvp
python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**登录失败**:
```bash
# 创建测试用户
python3 create_test_user.py

# 或检查数据库
ls -la mvp/*.db
```

---

## 📞 获取帮助

### 查看文档
- **使用指南**: 🎯完整系统使用指南.md
- **开发报告**: ✅前端开发完成报告.md
- **交付清单**: 🎊项目最终交付清单.md

### 查看日志
```bash
# 后端日志
tail -f mvp/backend.log

# 前端日志（浏览器控制台）
# 按F12打开开发者工具
```

### API文档
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## ✅ 验证完成确认

完成验证后，请确认以下内容：

- [ ] 前端界面可以正常访问
- [ ] 后端API可以正常访问
- [ ] 用户可以成功登录
- [ ] 所有页面可以正常显示
- [ ] 数据上传功能正常
- [ ] 训练创建功能正常
- [ ] 问答功能正常
- [ ] 所有交互操作流畅
- [ ] 没有明显的错误或Bug

---

**当前状态**: 🟢 所有服务正常运行，可以开始验证！

**验证地址**: http://localhost:3000

**测试账号**: testuser / test123456

🎉 **祝验证顺利！** 🎉
