# 🌐 服务访问地址

**更新时间**: 2026-01-11

---

## ✅ 后端服务（已启动）

### 访问地址
- **API基础地址**: http://localhost:8000
- **健康检查**: http://localhost:8000/health
- **API文档（Swagger）**: http://localhost:8000/docs
- **API文档（ReDoc）**: http://localhost:8000/redoc
- **OpenAPI JSON**: http://localhost:8000/openapi.json

### 服务状态
- ✅ **运行中**
- **进程ID**: 4
- **应用**: Bank Code Retrieval System v1.0.0
- **工作目录**: mvp/

### 验证测试
```bash
# 健康检查
curl http://localhost:8000/health

# 查看API文档
open http://localhost:8000/docs  # macOS
# 或在浏览器中打开: http://localhost:8000/docs
```

---

## ⚠️ 前端服务（需要配置）

### 预期访问地址
- **前端地址**: http://localhost:3000
- **API代理**: 自动代理到 http://localhost:8000

### 当前状态
- ⚠️ **需要重新安装依赖**
- **原因**: node_modules可能不完整或损坏
- **解决方案**: 重新安装前端依赖

### 启动步骤

#### 方法1：重新安装依赖（推荐）
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
npm run dev  # 或 npx vite
```

#### 方法2：使用Docker（如果配置了）
```bash
docker-compose up frontend
```

#### 方法3：检查package.json
```bash
cd frontend
cat package.json  # 查看可用的脚本
npm run  # 列出所有可用的脚本
```

---

## 📊 服务架构

```
┌─────────────────┐         ┌─────────────────┐
│   前端服务      │         │   后端服务      │
│  (Vue + Vite)   │ ──────> │  (FastAPI)      │
│  localhost:3000 │  API    │  localhost:8000 │
└─────────────────┘  代理   └─────────────────┘
                                    │
                                    ▼
                            ┌─────────────────┐
                            │   数据库        │
                            │   (SQLite)      │
                            └─────────────────┘
```

---

## 🧪 测试建议

### 1. 测试后端API（当前可用）

#### 使用Swagger UI（推荐）
1. 打开浏览器访问: http://localhost:8000/docs
2. 查看所有可用的API端点
3. 使用"Try it out"功能测试各个端点
4. 查看请求和响应示例

#### 使用curl命令
```bash
# 健康检查
curl http://localhost:8000/health

# 获取API信息
curl http://localhost:8000/

# 测试登录（需要确认正确的端点路径）
curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin&password=admin123"
```

#### 使用测试脚本
```bash
bash test_api_endpoints.sh
```

### 2. 测试前端（需要先启动）

一旦前端服务启动成功：
1. 打开浏览器访问: http://localhost:3000
2. 测试登录功能
3. 测试各个页面功能
4. 验证与后端API的交互

---

## 🔧 故障排除

### 前端依赖问题

#### 问题：node_modules损坏或不完整
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
```

#### 问题：vite命令找不到
```bash
cd frontend
npm install vite --save-dev
```

#### 问题：权限问题
```bash
chmod +x frontend/node_modules/.bin/*
```

### 后端服务问题

#### 问题：端口被占用
```bash
# 查找占用8000端口的进程
lsof -i :8000

# 停止进程
kill -9 <PID>
```

#### 问题：数据库连接失败
```bash
# 检查数据库文件
ls -la mvp/*.db

# 重新初始化数据库
cd mvp
python3 -c "from app.db.init_db import initialize_database; initialize_database()"
```

---

## 📝 快速命令参考

### 后端服务
```bash
# 启动后端
bash start_backend.sh

# 测试后端
curl http://localhost:8000/health
bash test_api_endpoints.sh

# 查看API文档
open http://localhost:8000/docs
```

### 前端服务
```bash
# 重新安装依赖
cd frontend
rm -rf node_modules package-lock.json
npm install

# 启动前端（根据实际配置选择）
npm run dev      # 如果有dev脚本
npx vite         # 使用vite
npm start        # 使用react-scripts
```

### 查看服务状态
```bash
# 查看后端日志
# 后端日志会实时显示在终端

# 查看进程
ps aux | grep uvicorn
ps aux | grep vite
```

---

## 💡 提示

### 当前可用功能
1. ✅ **后端API**: 完全可用，可以通过Swagger UI测试
2. ✅ **API文档**: 完整的API文档可供查看
3. ✅ **健康检查**: 服务状态监控正常
4. ✅ **数据库**: SQLite数据库正常运行

### 待配置功能
1. ⚠️ **前端界面**: 需要重新安装依赖后启动
2. ⚠️ **完整测试**: 需要前后端都运行后进行集成测试

### 推荐测试流程
1. **先测试后端**: 使用Swagger UI测试所有API端点
2. **验证数据**: 确认数据库操作正常
3. **启动前端**: 重新安装依赖后启动前端服务
4. **集成测试**: 测试前后端交互功能

---

## 📚 相关文档

- **🚀服务启动说明.md** - 详细的服务启动说明
- **test_api_endpoints.sh** - API端点测试脚本
- **README.md** - 项目总体说明
- **QUICKSTART.md** - 快速启动指南

---

## 🎯 下一步操作

### 立即可做
1. ✅ 使用Swagger UI测试后端API: http://localhost:8000/docs
2. ✅ 查看API文档了解所有端点
3. ✅ 使用curl或Postman测试API

### 需要配置
1. ⚠️ 重新安装前端依赖
2. ⚠️ 启动前端服务
3. ⚠️ 进行完整的集成测试

---

**当前状态**: 后端服务已就绪，可以开始API测试！ 🚀

**后端API文档**: http://localhost:8000/docs
