# ⚡ 智能训练数据生成 - 一键使用

## 🚀 立即开始

### 一行命令生成训练数据

```bash
# 方式 1：使用 curl（需要先获取 token）
curl -X POST "http://localhost:8000/api/v1/bank-data/upload-and-generate" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@data/T_BANK_LINE_NO_ICBC_ALL.unl" \
  -F "samples_per_bank=7"
```

## 📊 预期结果

```json
{
  "success": true,
  "message": "成功生成训练数据集",
  "dataset_id": 10,
  "total_banks": 177316,
  "total_samples": 1241212,
  "samples_per_bank": 7
}
```

**含义：**
- ✅ 成功处理 177,316 个银行
- ✅ 生成 1,241,212 个训练样本
- ✅ 每个银行平均 7 个不同问法
- ✅ 数据集 ID: 10（可用于训练）

## 🎯 生成示例

**输入：** `102100099996|中国工商银行股份有限公司北京市分行|...`

**输出 7 个样本：**
1. "中国工商银行股份有限公司北京市分行"
2. "中国工商银行北京市分行"
3. "工商银行北京市"
4. "市工商银行北京"
5. "中国工商银行股份有限公司北京市分行的联行号"
6. "中国工商银行北京市分行联行号是多少"
7. "工行北京市"

## ⏱️ 时间估算

| 银行数量 | 样本数 | 预计时间 |
|---------|--------|---------|
| 100 | 700 | 1 秒 |
| 1,000 | 7,000 | 10 秒 |
| 10,000 | 70,000 | 2 分钟 |
| 177,316 | 1,241,212 | 30 分钟 |

## 📝 参数说明

### samples_per_bank
- **默认：** 7
- **推荐：** 5-10
- **说明：** 每个银行生成的样本数

### use_llm
- **默认：** false
- **推荐：** false（规则生成已足够好）
- **说明：** 是否使用大模型增强

## ✅ 使用流程

```
1. 上传 .unl 文件 → 2. 等待生成 → 3. 获取数据集 ID → 4. 训练模型
```

## 🎯 下一步

生成完成后：
1. 记下 `dataset_id`
2. 在训练管理页面选择该数据集
3. 开始训练
4. 验证准确率提升

## 📞 快速帮助

**问题：** 如何获取 token？
```bash
curl -X POST "http://localhost:8000/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=testuser&password=test123"
```

**问题：** 如何查看生成状态？
```bash
curl "http://localhost:8000/api/v1/bank-data/generation-status/10" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

**问题：** 生成太慢？
- 先测试小文件（前 100 行）
- 确认质量后再生成完整数据集

## 🎉 就这么简单！

上传文件 → 自动生成 → 开始训练 → 准确率提升！

---

**准备好了吗？** 开始生成你的 124 万训练样本吧！ 🚀
