# å‰ç«¯å¼€å‘çŠ¶æ€è¯´æ˜

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… å·²å®Œæˆçš„å‰ç«¯åŠŸèƒ½

1. **åŸºç¡€æ¶æ„**
   - âœ… React + TypeScript é¡¹ç›®ç»“æ„
   - âœ… Redux Toolkit çŠ¶æ€ç®¡ç†
   - âœ… React Router è·¯ç”±é…ç½®
   - âœ… Ant Design UIç»„ä»¶åº“
   - âœ… Axios HTTPå®¢æˆ·ç«¯é…ç½®

2. **è®¤è¯ç³»ç»Ÿ**
   - âœ… ç™»å½•é¡µé¢ï¼ˆLoginPage.tsxï¼‰
   - âœ… è®¤è¯çŠ¶æ€ç®¡ç†ï¼ˆauthSlice.tsï¼‰
   - âœ… Tokenç®¡ç†å’Œè‡ªåŠ¨åˆ·æ–°
   - âœ… è·¯ç”±å®ˆå«

3. **å¸ƒå±€ç³»ç»Ÿ**
   - âœ… ä¸»å¸ƒå±€ç»„ä»¶ï¼ˆDashboardLayoutï¼‰
   - âœ… ä¾§è¾¹æ å¯¼èˆªèœå•
   - âœ… é¡¶éƒ¨å¯¼èˆªæ 
   - âœ… ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º

4. **APIæœåŠ¡å±‚**
   - âœ… å®Œæ•´çš„APIæ¥å£å°è£…ï¼ˆservices/api.tsï¼‰
   - âœ… è¯·æ±‚æ‹¦æˆªå™¨ï¼ˆè‡ªåŠ¨æ·»åŠ Tokenï¼‰
   - âœ… å“åº”æ‹¦æˆªå™¨ï¼ˆé”™è¯¯å¤„ç†ï¼‰
   - âœ… æ‰€æœ‰åç«¯APIçš„TypeScriptç±»å‹å®šä¹‰

### âš ï¸ ä»…æœ‰å ä½ç¬¦çš„é¡µé¢

ä»¥ä¸‹é¡µé¢å·²åˆ›å»ºæ–‡ä»¶å’Œè·¯ç”±ï¼Œä½†**åªæ˜¾ç¤º"åŠŸèƒ½å¼€å‘ä¸­"**ï¼Œæ²¡æœ‰å®é™…ä¸šåŠ¡é€»è¾‘ï¼š

1. **æ•°æ®ç®¡ç†** (`/data` - DataManagement.tsx)
   - éœ€è¦å®ç°ï¼šæ•°æ®ä¸Šä¼ ã€éªŒè¯ã€é¢„è§ˆã€ç‰ˆæœ¬ç®¡ç†

2. **è®­ç»ƒç®¡ç†** (`/training` - TrainingManagement.tsx)
   - éœ€è¦å®ç°ï¼šåˆ›å»ºè®­ç»ƒä»»åŠ¡ã€é…ç½®å‚æ•°ã€ç›‘æ§è¿›åº¦ã€æŸ¥çœ‹æ—¥å¿—

3. **æ¨¡å‹ç®¡ç†** (`/models` - ModelManagement.tsx)
   - éœ€è¦å®ç°ï¼šæ¨¡å‹åˆ—è¡¨ã€æµ‹è¯•ã€éƒ¨ç½²ã€ç‰ˆæœ¬ç®¡ç†ã€æ€§èƒ½ç›‘æ§

4. **æ™ºèƒ½é—®ç­”** (`/qa` - QAInterface.tsx)
   - éœ€è¦å®ç°ï¼šé—®ç­”ç•Œé¢ã€å®æ—¶å¯¹è¯ã€å†å²è®°å½•ã€ä¼šè¯ç®¡ç†

5. **ç”¨æˆ·ç®¡ç†** (`/users` - UserManagement.tsx) [ç®¡ç†å‘˜]
   - éœ€è¦å®ç°ï¼šç”¨æˆ·åˆ—è¡¨ã€åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€æƒé™ç®¡ç†

6. **ç³»ç»Ÿè®¾ç½®** (`/settings` - SystemSettings.tsx) [ç®¡ç†å‘˜]
   - éœ€è¦å®ç°ï¼šç³»ç»Ÿé…ç½®ã€å‚æ•°è®¾ç½®ã€æ—¥å¿—æŸ¥çœ‹

7. **ä»ªè¡¨ç›˜** (`/dashboard` - Dashboard.tsx)
   - éœ€è¦å®ç°ï¼šç»Ÿè®¡å›¾è¡¨ã€ç³»ç»ŸçŠ¶æ€ã€å¿«æ·æ“ä½œ

---

## ğŸ¯ ä¸ºä»€ä¹ˆæ˜¯è¿™ç§çŠ¶æ€ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª**MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰**é¡¹ç›®ï¼š

1. **åç«¯ä¼˜å…ˆç­–ç•¥**
   - å…ˆå®Œæˆå®Œæ•´çš„åç«¯APIå®ç°
   - ç¡®ä¿æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ­£ç¡®
   - æä¾›å®Œæ•´çš„APIæ–‡æ¡£ï¼ˆSwaggerï¼‰

2. **å‰ç«¯åŸºç¡€è®¾æ–½**
   - æ­å»ºå®Œæ•´çš„å‰ç«¯æ¡†æ¶
   - å®ç°è®¤è¯å’Œè·¯ç”±ç³»ç»Ÿ
   - å‡†å¤‡å¥½æ‰€æœ‰APIè°ƒç”¨æ¥å£

3. **å¾…å¼€å‘çš„UI**
   - ä¸šåŠ¡é¡µé¢çš„å…·ä½“UIå®ç°
   - æ•°æ®å±•ç¤ºå’Œäº¤äº’é€»è¾‘
   - è¡¨å•éªŒè¯å’Œç”¨æˆ·ä½“éªŒä¼˜åŒ–

---

## ğŸš€ å¦‚ä½•ç»§ç»­å¼€å‘ï¼Ÿ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨Swagger UIæµ‹è¯•ï¼ˆå½“å‰æ¨èï¼‰

**ä¼˜åŠ¿**ï¼šæ— éœ€å‰ç«¯å¼€å‘ï¼Œç«‹å³å¯ç”¨
- è®¿é—®ï¼šhttp://localhost:8000/docs
- å¯ä»¥æµ‹è¯•æ‰€æœ‰APIåŠŸèƒ½
- æŸ¥çœ‹å®Œæ•´çš„APIæ–‡æ¡£
- è¿›è¡Œæ•°æ®æ“ä½œå’ŒéªŒè¯

### æ–¹æ¡ˆ2ï¼šå¼€å‘å‰ç«¯é¡µé¢

æ¯ä¸ªé¡µé¢çš„å¼€å‘æ­¥éª¤ï¼š

#### ç¤ºä¾‹ï¼šå¼€å‘æ•°æ®ç®¡ç†é¡µé¢

1. **è®¾è®¡UIå¸ƒå±€**
   ```tsx
   // DataManagement.tsx
   - é¡¶éƒ¨ï¼šä¸Šä¼ æŒ‰é’®ã€æœç´¢æ¡†ã€ç­›é€‰å™¨
   - ä¸­é—´ï¼šæ•°æ®é›†åˆ—è¡¨ï¼ˆTableç»„ä»¶ï¼‰
   - åº•éƒ¨ï¼šåˆ†é¡µå™¨
   ```

2. **å®ç°æ•°æ®è·å–**
   ```tsx
   import { dataAPI } from '@/services/api';
   
   const [datasets, setDatasets] = useState([]);
   
   useEffect(() => {
     const fetchData = async () => {
       const response = await dataAPI.getDatasets();
       setDatasets(response.data);
     };
     fetchData();
   }, []);
   ```

3. **å®ç°äº¤äº’åŠŸèƒ½**
   - ä¸Šä¼ æ–‡ä»¶ï¼šä½¿ç”¨Uploadç»„ä»¶ + dataAPI.uploadDataset()
   - åˆ é™¤æ•°æ®ï¼šä½¿ç”¨Modalç¡®è®¤ + dataAPI.deleteDataset()
   - æŸ¥çœ‹è¯¦æƒ…ï¼šä½¿ç”¨Drawer + dataAPI.getDatasetDetail()

4. **æ·»åŠ çŠ¶æ€ç®¡ç†**ï¼ˆå¯é€‰ï¼‰
   - åˆ›å»ºdataSlice.ts
   - ä½¿ç”¨Reduxç®¡ç†æ•°æ®çŠ¶æ€

#### å¼€å‘ä¼˜å…ˆçº§å»ºè®®

1. **ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½**
   - æ•°æ®ç®¡ç†é¡µé¢ï¼ˆä¸Šä¼ ã€åˆ—è¡¨ã€åˆ é™¤ï¼‰
   - æ™ºèƒ½é—®ç­”é¡µé¢ï¼ˆé—®ç­”ç•Œé¢ã€å†å²è®°å½•ï¼‰

2. **ç¬¬äºŒé˜¶æ®µï¼šè®­ç»ƒåŠŸèƒ½**
   - è®­ç»ƒç®¡ç†é¡µé¢ï¼ˆåˆ›å»ºä»»åŠ¡ã€æŸ¥çœ‹è¿›åº¦ï¼‰
   - æ¨¡å‹ç®¡ç†é¡µé¢ï¼ˆæ¨¡å‹åˆ—è¡¨ã€éƒ¨ç½²ï¼‰

3. **ç¬¬ä¸‰é˜¶æ®µï¼šç®¡ç†åŠŸèƒ½**
   - ç”¨æˆ·ç®¡ç†é¡µé¢
   - ç³»ç»Ÿè®¾ç½®é¡µé¢
   - ä»ªè¡¨ç›˜ç»Ÿè®¡

---

## ğŸ“š å¯ç”¨èµ„æº

### åç«¯APIæ–‡æ¡£
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **OpenAPI JSON**: http://localhost:8000/openapi.json

### å‰ç«¯APIæœåŠ¡
æ‰€æœ‰APIè°ƒç”¨å·²å°è£…åœ¨ `frontend/src/services/api.ts`ï¼š

```typescript
// è®¤è¯API
authAPI.login(credentials)
authAPI.getCurrentUser()
authAPI.logout()

// æ•°æ®API
dataAPI.getDatasets(params)
dataAPI.uploadDataset(file)
dataAPI.getDatasetDetail(id)
dataAPI.deleteDataset(id)

// è®­ç»ƒAPI
trainingAPI.getTrainingJobs(params)
trainingAPI.createTrainingJob(data)
trainingAPI.getTrainingJobDetail(id)

// æ¨¡å‹API
modelAPI.getModels(params)
modelAPI.deployModel(id)
modelAPI.testModel(id, data)

// é—®ç­”API
qaAPI.query(question)
qaAPI.getQueryHistory(params)

// ç”¨æˆ·APIï¼ˆç®¡ç†å‘˜ï¼‰
userAPI.getUsers(params)
userAPI.createUser(data)
userAPI.updateUser(id, data)
userAPI.deleteUser(id)

// ç³»ç»ŸAPIï¼ˆç®¡ç†å‘˜ï¼‰
systemAPI.getSystemInfo()
systemAPI.updateSettings(data)
```

### UIç»„ä»¶åº“
é¡¹ç›®ä½¿ç”¨ **Ant Design**ï¼Œå¸¸ç”¨ç»„ä»¶ï¼š
- Table - æ•°æ®è¡¨æ ¼
- Form - è¡¨å•
- Upload - æ–‡ä»¶ä¸Šä¼ 
- Modal - å¯¹è¯æ¡†
- Drawer - æŠ½å±‰
- Card - å¡ç‰‡
- Button - æŒ‰é’®
- Input - è¾“å…¥æ¡†
- Select - ä¸‹æ‹‰é€‰æ‹©
- DatePicker - æ—¥æœŸé€‰æ‹©
- Spin - åŠ è½½åŠ¨ç”»
- Message - æ¶ˆæ¯æç¤º

---

## ğŸ’¡ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå®ç°æ•°æ®é›†åˆ—è¡¨

```tsx
import React, { useState, useEffect } from 'react';
import { Table, Button, Space, message } from 'antd';
import { dataAPI } from '@/services/api';

const DataManagement: React.FC = () => {
  const [datasets, setDatasets] = useState([]);
  const [loading, setLoading] = useState(false);

  // è·å–æ•°æ®é›†åˆ—è¡¨
  const fetchDatasets = async () => {
    setLoading(true);
    try {
      const response = await dataAPI.getDatasets();
      setDatasets(response.data.items);
    } catch (error) {
      message.error('è·å–æ•°æ®é›†å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchDatasets();
  }, []);

  // è¡¨æ ¼åˆ—å®šä¹‰
  const columns = [
    { title: 'ID', dataIndex: 'id', key: 'id' },
    { title: 'åç§°', dataIndex: 'name', key: 'name' },
    { title: 'æ–‡ä»¶å', dataIndex: 'filename', key: 'filename' },
    { title: 'è®°å½•æ•°', dataIndex: 'record_count', key: 'record_count' },
    { title: 'çŠ¶æ€', dataIndex: 'status', key: 'status' },
    {
      title: 'æ“ä½œ',
      key: 'action',
      render: (_, record) => (
        <Space>
          <Button type="link">æŸ¥çœ‹</Button>
          <Button type="link" danger>åˆ é™¤</Button>
        </Space>
      ),
    },
  ];

  return (
    <div>
      <h1>æ•°æ®ç®¡ç†</h1>
      <Space style={{ marginBottom: 16 }}>
        <Button type="primary">ä¸Šä¼ æ•°æ®é›†</Button>
        <Button onClick={fetchDatasets}>åˆ·æ–°</Button>
      </Space>
      <Table
        columns={columns}
        dataSource={datasets}
        loading={loading}
        rowKey="id"
      />
    </div>
  );
};

export default DataManagement;
```

### ç¤ºä¾‹2ï¼šå®ç°é—®ç­”ç•Œé¢

```tsx
import React, { useState } from 'react';
import { Input, Button, Card, List, Spin } from 'antd';
import { qaAPI } from '@/services/api';

const QAInterface: React.FC = () => {
  const [question, setQuestion] = useState('');
  const [loading, setLoading] = useState(false);
  const [history, setHistory] = useState([]);

  const handleQuery = async () => {
    if (!question.trim()) return;
    
    setLoading(true);
    try {
      const response = await qaAPI.query({ question });
      setHistory([
        { question, answer: response.data.answer, time: new Date() },
        ...history
      ]);
      setQuestion('');
    } catch (error) {
      message.error('æŸ¥è¯¢å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div>
      <h1>æ™ºèƒ½é—®ç­”</h1>
      <Card>
        <Input.TextArea
          value={question}
          onChange={(e) => setQuestion(e.target.value)}
          placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..."
          rows={4}
        />
        <Button
          type="primary"
          onClick={handleQuery}
          loading={loading}
          style={{ marginTop: 16 }}
        >
          æé—®
        </Button>
      </Card>
      
      <Card title="é—®ç­”å†å²" style={{ marginTop: 16 }}>
        <List
          dataSource={history}
          renderItem={(item) => (
            <List.Item>
              <List.Item.Meta
                title={`é—®ï¼š${item.question}`}
                description={`ç­”ï¼š${item.answer}`}
              />
            </List.Item>
          )}
        />
      </Card>
    </div>
  );
};

export default QAInterface;
```

---

## ğŸ”§ å¼€å‘ç¯å¢ƒ

### å¯åŠ¨æœåŠ¡
```bash
# åç«¯ï¼ˆå·²å¯åŠ¨ï¼‰
cd mvp
python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# å‰ç«¯ï¼ˆå·²å¯åŠ¨ï¼‰
cd frontend
npm start
```

### è®¿é—®åœ°å€
- **å‰ç«¯**: http://localhost:3000
- **åç«¯API**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs

### æµ‹è¯•è´¦å·
- **ç”¨æˆ·å**: testuser
- **å¯†ç **: test123456
- **è§’è‰²**: user

---

## ğŸ“ æ€»ç»“

**å½“å‰é¡¹ç›®çŠ¶æ€**ï¼š
- âœ… åç«¯APIå®Œæ•´å¯ç”¨
- âœ… å‰ç«¯æ¡†æ¶å’ŒåŸºç¡€è®¾æ–½å®Œæ•´
- âš ï¸ å‰ç«¯ä¸šåŠ¡é¡µé¢éœ€è¦å¼€å‘

**æ¨èåšæ³•**ï¼š
1. **çŸ­æœŸ**ï¼šä½¿ç”¨Swagger UIæµ‹è¯•å’ŒéªŒè¯åç«¯åŠŸèƒ½
2. **ä¸­æœŸ**ï¼šæ ¹æ®ä¸šåŠ¡ä¼˜å…ˆçº§é€æ­¥å¼€å‘å‰ç«¯é¡µé¢
3. **é•¿æœŸ**ï¼šå®Œå–„ç”¨æˆ·ä½“éªŒå’Œé«˜çº§åŠŸèƒ½

**å¼€å‘å»ºè®®**ï¼š
- å‚è€ƒä¸Šé¢çš„ç¤ºä¾‹ä»£ç 
- ä½¿ç”¨å·²å°è£…å¥½çš„APIæœåŠ¡
- åˆ©ç”¨Ant Designç»„ä»¶åº“
- å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå†ä¼˜åŒ–ä½“éªŒ
