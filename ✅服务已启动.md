# ✅ 服务已启动

**启动时间**: 2026-01-11  
**状态**: 前后端服务均已启动并运行

---

## 🎉 后端服务（已启动）

### ✅ 服务状态
- **状态**: ✅ 运行中
- **端口**: 8000
- **进程ID**: 2618
- **应用**: Bank Code Retrieval System v1.0.0

### 🌐 访问地址

#### 主要地址
- **API基础地址**: http://localhost:8000
- **API文档（Swagger UI）**: http://localhost:8000/docs ⭐ **推荐使用**
- **API文档（ReDoc）**: http://localhost:8000/redoc
- **健康检查**: http://localhost:8000/health

#### 验证测试
```bash
# 健康检查
curl http://localhost:8000/health

# 返回结果
{
    "status": "healthy",
    "app": "Bank Code Retrieval System",
    "version": "1.0.0"
}
```

✅ **健康检查通过！**

---

## 🎉 前端服务（已启动）

### ✅ 服务状态
- **状态**: ✅ 运行中
- **端口**: 3000
- **框架**: React + TypeScript
- **编译状态**: 成功（仅有少量警告）

### 🌐 访问地址
- **前端界面**: http://localhost:3000 ⭐ **可以访问**
- **API代理**: 自动代理到 http://localhost:8000

### 📝 修复说明
已修复以下问题：
1. ✅ 安装了所有前端依赖（1394个包）
2. ✅ 修复了 index.html 配置（从 Vite 格式改为 React 格式）
3. ✅ 修复了 API 代理配置（从 backend:8000 改为 localhost:8000）
4. ✅ 修复了 authSlice.ts 中的重复导出错误

---

## 🧪 开始测试

### 方法1：使用前端界面（推荐）⭐

1. **打开浏览器**
2. **访问**: http://localhost:3000
3. **功能**:
   - 完整的用户界面
   - 登录/注册功能
   - 数据集管理
   - 训练任务管理
   - 查询功能
   - 系统监控

### 方法2：使用Swagger UI（API测试）⭐

1. **打开浏览器**
2. **访问**: http://localhost:8000/docs
3. **功能**:
   - 查看所有API端点
   - 在线测试API
   - 查看请求/响应示例
   - 测试认证功能
   - 测试数据上传
   - 测试查询功能

### 方法3：使用curl命令

```bash
# 1. 健康检查
curl http://localhost:8000/health

# 2. 查看API根路径
curl http://localhost:8000/

# 3. 测试登录（根据Swagger文档确认端点）
curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin&password=admin123"

# 4. 获取数据集列表（需要token）
curl -H "Authorization: Bearer <your_token>" \
  http://localhost:8000/api/datasets
```

### 方法3：使用测试脚本

```bash
bash test_api_endpoints.sh
```

---

## 📚 API端点概览

根据MVP应用，主要API端点包括：

### 认证相关
- `POST /api/auth/login` - 用户登录
- `POST /api/auth/register` - 用户注册
- `POST /api/auth/refresh` - 刷新令牌

### 用户管理
- `GET /api/users/me` - 获取当前用户信息
- `PUT /api/users/me` - 更新用户信息
- `GET /api/users` - 获取用户列表（管理员）

### 数据管理
- `GET /api/datasets` - 获取数据集列表
- `POST /api/datasets` - 上传数据集
- `GET /api/datasets/{id}` - 获取数据集详情
- `POST /api/datasets/{id}/validate` - 验证数据集

### 训练管理
- `GET /api/training` - 获取训练任务列表
- `POST /api/training` - 创建训练任务
- `GET /api/training/{id}` - 获取训练任务详情

### 问答服务
- `POST /api/query` - 提交问答查询
- `GET /api/query/history` - 获取查询历史

**详细端点请查看**: http://localhost:8000/docs

---

## ⚠️ 前端服务说明

### 当前状态
✅ **前端服务已成功启动并运行！**

### 访问前端界面
直接在浏览器中打开: **http://localhost:3000**

---

## 🎯 推荐测试流程

### 1. 打开前端界面
在浏览器中访问: **http://localhost:3000**

### 2. 测试用户功能
- 注册新用户或使用现有账号登录
- 浏览系统界面
- 测试各个功能模块

### 3. 测试数据管理
- 上传数据集
- 查看数据集列表
- 验证数据集

### 4. 测试训练功能
- 创建训练任务
- 查看训练进度
- 查看训练结果

### 5. 测试查询功能
- 提交查询请求
- 查看查询结果
- 查看查询历史

### 6. 使用Swagger UI进行API测试（可选）
在浏览器中访问: **http://localhost:8000/docs**

---

## 📊 服务架构

```
┌─────────────────┐         ┌─────────────────┐
│   前端服务      │         │   后端服务      │
│  (React)        │ ──────> │  (FastAPI)      │
│  localhost:3000 │  API    │  localhost:8000 │
│  ✅ 运行中      │  代理   │  ✅ 运行中      │
└─────────────────┘         └─────────────────┘
                                    │
                                    ▼
                            ┌─────────────────┐
                            │   数据库        │
                            │   (SQLite)      │ ✅ 正常
                            └─────────────────┘
```

---

## 🔧 服务管理

### 查看后端日志
```bash
tail -f mvp/backend.log
```

### 查看前端日志
```bash
# 前端服务在进程中运行，可以查看实时输出
ps aux | grep "react-scripts"
```

### 停止服务
```bash
# 停止后端
pkill -f "uvicorn app.main:app"

# 停止前端
pkill -f "react-scripts"
```

### 重启服务
```bash
# 重启后端
cd mvp
nohup python3 -m uvicorn app.main:app --reload --host 0.0.0.0 --port 8000 > backend.log 2>&1 &

# 重启前端
cd frontend
npm start
```

---

## 💡 重要提示

### ✅ 当前可用
1. **后端API**: 完全可用
2. **Swagger UI**: 完整的API测试界面
3. **健康检查**: 服务状态监控
4. **数据库**: SQLite正常运行

### ⏳ 正在准备
1. **前端界面**: npm依赖安装中

### 🎯 建议
**立即开始测试**: 使用Swagger UI进行完整的API测试
- 访问: http://localhost:8000/docs
- 无需等待前端，功能完整
- 可以测试所有API端点

---

## 📞 获取帮助

### 查看文档
- **🚀服务启动说明.md** - 详细的服务说明
- **🌐服务访问地址.md** - 访问地址汇总
- **test_api_endpoints.sh** - API测试脚本

### 查看日志
```bash
# 后端日志
tail -f mvp/backend.log

# 前端日志
tail -f frontend/frontend.log
```

### 测试API
```bash
# 使用测试脚本
bash test_api_endpoints.sh

# 或直接访问Swagger UI
open http://localhost:8000/docs  # macOS
```

---

## 🎉 开始验证测试

**前后端服务已完全就绪！**

### 测试账号
已创建以下测试账号供验证使用：

#### 普通用户
- **用户名**: `testuser`
- **密码**: `test123456`

#### 管理员
- **用户名**: `admin`
- **密码**: `admin123456`

详细信息请查看: **🧪测试账号.md**

### 立即可用
- **前端界面**: http://localhost:3000 ⭐
- **后端API**: http://localhost:8000
- **Swagger UI**: http://localhost:8000/docs
- **API文档**: http://localhost:8000/redoc
- **健康检查**: http://localhost:8000/health

### 推荐操作
1. 打开浏览器访问 http://localhost:3000
2. 使用测试账号登录（testuser / test123456）
3. 测试各项功能
4. 如需管理员权限，使用 admin / admin123456 登录

---

**祝测试顺利！** 🚀
